root = true

[*]
charset = utf-8
end_of_line = crlf
insert_final_newline = true
trim_trailing_whitespace = true

[*.{cs,csx,vb,vbx}]
indent_style = space
indent_size = 4

[*.{json,yaml,yml}]
indent_style = space
indent_size = 2

# C# Code Style Rules
[*.cs]

# Language rules
csharp_prefer_braces = true:warning
csharp_prefer_simple_using_statement = true:suggestion
csharp_style_namespace_declarations = file_scoped:warning
csharp_style_prefer_method_group_conversion = true:suggestion
csharp_style_prefer_top_level_statements = true:suggestion

# Unnecessary code rules
dotnet_code_quality_unused_parameters = all:suggestion
csharp_style_unused_value_expression_statement_preference = discard_variable:suggestion
csharp_style_unused_value_assignment_preference = discard_variable:suggestion

# Formatting rules
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true
csharp_new_line_before_members_in_object_expression = true
csharp_new_line_before_members_in_anonymous_types = true

# Expression preferences
dotnet_style_prefer_auto_properties = true:suggestion
dotnet_style_prefer_conditional_expression_over_assignment = true:suggestion
dotnet_style_prefer_conditional_expression_over_return = false:suggestion
dotnet_style_prefer_inferred_tuple_names = true:suggestion
dotnet_style_prefer_inferred_anonymous_type_member_names = true:suggestion

# Null-checking preferences
dotnet_style_coalesce_expression = true:suggestion
dotnet_style_null_propagation = true:suggestion

# Code quality rules
dotnet_analyzer_diagnostic.CA1822.severity = suggestion
dotnet_analyzer_diagnostic.CA1848.severity = suggestion

# IDE rules
dotnet_diagnostic.IDE0005.severity = warning  # Remove unnecessary imports
dotnet_diagnostic.IDE0052.severity = warning  # Remove unread private members
dotnet_diagnostic.IDE0051.severity = warning  # Remove unused private members
dotnet_diagnostic.IDE0060.severity = suggestion  # Remove unused parameter
dotnet_diagnostic.IDE0290.severity = suggestion  # Use primary constructor

# Async rules
dotnet_diagnostic.CS4014.severity = error  # Task not awaited
dotnet_diagnostic.VSTHRD110.severity = warning  # Observe result of async calls